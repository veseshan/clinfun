<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Probability of selection under pick the winner rule — pselect • clinfun</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Probability of selection under pick the winner rule — pselect" />
<meta property="og:description" content="Calculates the probability of selecting the treatment with the higher
  response rate under the pick the winner rule." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clinfun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.99.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Probability of selection under pick the winner rule</h1>
    
    <div class="hidden name"><code>pselect.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the probability of selecting the treatment with the higher
  response rate under the pick the winner rule.</p>
    </div>

    <pre class="usage"><span class='fu'>pselect</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>p</span>, min.diff<span class='op'>=</span><span class='cn'>NULL</span>, min.resp<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>n</th>
      <td><p>sample size for each treatment arm.  This is either a single
    integer or a vector of two integers for the special case of
    comparing two treatments with unequal sample sizes</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>vector of response rates for the treatments.</p></td>
    </tr>
    <tr>
      <th>min.diff</th>
      <td><p>this is the number of responses or the rate by which
    the best treatment should be superior to the others to be chosen.
    This must be a positive integer or a rate between 0 and 1.  If
    missing it defaults to 1 for the equal sample size case but quits
    with a warning for the unequal sample size case.</p></td>
    </tr>
    <tr>
      <th>min.resp</th>
      <td><p>the minimum number of responses in each treatment arm
    for it to be considered further. If missing defaults to 0.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>the function returns a list with:</p>
<dt>prob.none.worthy</dt><dd><p>is the probability that no treatment has the
    minimum number of responses specified in min.resp. this element is
    present only if min.resp is greater than 0 for at least one arm.</p></dd>
  <dt>prob.inconclusive</dt><dd><p>this is the probability that the best treatment
    has the requisite min.resp responses but exceeds the second best by
    less than min.diff responses (rate) provided the second best also
    has at least min.resp responses.</p></dd>
  <dt>prob.selection</dt><dd><p>this is a matrix which for each treatment gives
    the response probability and the probability of selecting it
    i.e. the number of responses in the chosen arm is at least min.resp
    and either none of the remaining arms exceed the min.resp threshold
    or the chosen (best) arm is better than the second best by at least
    min.diff responses (rate).</p></dd>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Simon R, Wittes RE, Ellenberg SS. (1985). Randomized phase II clinical
  trials. <em>Cancer Treat Rep</em> 69, 1375-1381.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='co'># selection when no diffrence i.e. type I error</span>
  <span class='fu'>pselect</span><span class='op'>(</span><span class='fl'>18</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $prob.inconclusive
#&gt; [1] 0.2236879
#&gt; 
#&gt; $prob.selection
#&gt;       sample.size resp.rate prob.selection
#&gt; trt 1          18       0.2      0.2587707
#&gt; trt 2          18       0.2      0.2587707
#&gt; trt 3          18       0.2      0.2587707
#&gt; </div><div class='input'>  <span class='co'># selection probability</span>
  <span class='fu'>pselect</span><span class='op'>(</span><span class='fl'>18</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.4</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $prob.inconclusive
#&gt; [1] 0.09676346
#&gt; 
#&gt; $prob.selection
#&gt;       sample.size resp.rate prob.selection
#&gt; trt 1          18       0.2     0.05136236
#&gt; trt 2          18       0.2     0.05136236
#&gt; trt 3          18       0.4     0.80051182
#&gt; </div><div class='input'>  <span class='fu'>pselect</span><span class='op'>(</span><span class='fl'>26</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0.4</span><span class='op'>)</span>, min.diff<span class='op'>=</span><span class='fl'>2</span>, min.resp<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $prob.none.worthy
#&gt; [1] 1.961946e-06
#&gt; 
#&gt; $prob.inconclusive
#&gt; [1] 0.1706533
#&gt; 
#&gt; $prob.selection
#&gt;       sample.size resp.rate prob.selection
#&gt; trt 1          26       0.2     0.01536975
#&gt; trt 2          26       0.2     0.01536975
#&gt; trt 3          26       0.4     0.79860522
#&gt; </div><div class='input'>  <span class='co'># unequal sample size case</span>
  <span class='fu'>pselect</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>27</span>,<span class='fl'>54</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>0.65</span><span class='op'>)</span>, min.diff<span class='op'>=</span><span class='fl'>0.05</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $prob.inconclusive
#&gt; [1] 0.1405518
#&gt; 
#&gt; $prob.selection
#&gt;       sample.size resp.rate prob.selection
#&gt; trt 1          27      0.50     0.04570331
#&gt; trt 2          54      0.65     0.81374489
#&gt; </div><div class='input'>  <span class='co'># unequal sample size case</span>
  <span class='fu'>pselect</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>27</span>,<span class='fl'>54</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>0.65</span><span class='op'>)</span>, min.diff<span class='op'>=</span><span class='fl'>0.05</span>, min.resp<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>14</span>,<span class='fl'>27</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $prob.none.worthy
#&gt; [1] 0.00405262
#&gt; 
#&gt; $prob.inconclusive
#&gt; [1] 0.1340373
#&gt; 
#&gt; $prob.selection
#&gt;       sample.size resp.rate prob.selection
#&gt; trt 1          27      0.50     0.04625472
#&gt; trt 2          54      0.65     0.81565539
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Venkatraman E. Seshan, Karissa Whiting.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


