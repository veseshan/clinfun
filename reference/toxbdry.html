<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Stopping rule for toxicity/futility monitoring — toxbdry • clinfun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Stopping rule for toxicity/futility monitoring — toxbdry"><meta property="og:description" content="Computes a stopping rule and its operating characteristics for
  toxicity monitoring based repeated significance testing."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clinfun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Stopping rule for toxicity/futility monitoring</h1>
    
    <div class="hidden name"><code>toxbdry.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes a stopping rule and its operating characteristics for
  toxicity monitoring based repeated significance testing.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">toxbdry</span><span class="op">(</span><span class="va">pLo</span>, <span class="va">pHi</span>, <span class="va">n</span>, cP0<span class="op">=</span><span class="fl">0.1</span>, cP1<span class="op">=</span><span class="fl">0.9</span>, ngrid<span class="op">=</span><span class="fl">6</span>, niter<span class="op">=</span><span class="fl">10</span>, delta<span class="op">=</span><span class="fl">0</span>,</span>
<span>          priority<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"null"</span>,<span class="st">"alt"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">futilbdry</span><span class="op">(</span><span class="va">rLo</span>, <span class="va">rHi</span>, <span class="va">n</span>, size<span class="op">=</span><span class="fl">0.1</span>, power<span class="op">=</span><span class="fl">0.9</span>, ngrid<span class="op">=</span><span class="fl">3</span>, niter<span class="op">=</span><span class="fl">10</span>, delta<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu">bdrycross.prob</span><span class="op">(</span><span class="va">n</span>, <span class="va">r</span>, <span class="va">ptox</span><span class="op">)</span></span>
<span><span class="co"># S3 method for toxbdry</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for futilbdry</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>pLo</dt>
<dd><p>the toxicity rate that is acceptable.</p></dd>

  <dt>rLo</dt>
<dd><p>baseline (null) response rate.</p></dd>

  <dt>pHi</dt>
<dd><p>the toxicity rate that is too high and hence unacceptable.</p></dd>

  <dt>rHi</dt>
<dd><p>desirable response rate. Stop when it is too unlikely.</p></dd>

  <dt>n</dt>
<dd><p>vector of times (sample size) when toxicty/response is monitored.</p></dd>

  <dt>r</dt>
<dd><p>vector of maximum acceptable toxicities (non-responders for
    futility) corresponding to n.</p></dd>

  <dt>ptox</dt>
<dd><p>the toxicity rates for which the operating characteristics
    are calculated. For futility this is the non-response rate.</p></dd>

  <dt>cP0</dt>
<dd><p>boundary crossing probability under pLo i.e. type I error
    or the probability of declaring a treatment with toxicity rate pLo
    unacceptable.</p></dd>

  <dt>cP1</dt>
<dd><p>boundary crossing probability under pHi i.e. power or the
    probability of declaring a treatment with toxicity rate pHi
    unacceptable.</p></dd>

  <dt>size</dt>
<dd><p>probability of calling drug effective if response rate is rLo.</p></dd>

  <dt>power</dt>
<dd><p>probability of calling drug effective if response rate is rHi.</p></dd>

  <dt>ngrid</dt>
<dd><p>the number of toxicity rates from pLo to pHi for which
    the operating characteristics are computed.</p></dd>

  <dt>niter</dt>
<dd><p>the number of iterations run to obtain the boundary.</p></dd>

  <dt>delta</dt>
<dd><p>power determining the shape of the boundary. Should be
    between 0 (default) and 0.5.</p></dd>

  <dt>priority</dt>
<dd><p>the error threshold to prioritize when the max sample 
    size is too small to have both error thresholds satisfied. Default
    is the null i.e. error under pLo.</p></dd>

  <dt>x</dt>
<dd><p>object returned by the function toxbdry.</p></dd>

  <dt>...</dt>
<dd><p>additional arguments to print.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>the function returns a list with:</p>
<dl><dt>looks</dt>
<dd><p>when toxicty is monitored - same as input n.</p></dd>

  <dt>lo.bdry</dt>
<dd><p>lower boundary is a vector of maximum acceptable number
    of toxicities corresponding the number of subjects in n.  The
    boundary crossing probability for this is slightly above cP0.</p></dd>

  <dt>hi.bdry</dt>
<dd><p>upper boundary is a vector of maximum acceptable number
    of toxicities corresponding the number of subjects in n.  The
    boundary crossing probability for this is slightly below cP0.</p></dd>

  <dt>bdry.oc</dt>
<dd><p>the operating characteristics i.e the toxicity
    rate, the probability of crossing, stopping (i.e. cross before the
    last observation) and the expected sample size for both the low (lo)
    and high (hi) boundaries.</p></dd>

  <dt>bdry.alpha</dt>
<dd><p>the alpha levels for testing at each look for the
    two boundaries.</p></dd>


</dl><p>stopping for toxicity is done when the number of toxicities exceeda
  the boundary i.e. the boundary gives the maximum acceptable number.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Default value of boundary shape corresponds to the Pocock boundary
  where the same significance level is used for all looks. For a more
  conservative stopping rule use delta greater than 0 where 0.5
  corresponds to the O'Brien-Fleming boundary which is extremely
  conservative in the early looks. Value between 0.1 and 0.2 is a
  reasonable compromise.</p>
<p>The exact calculations in this function are done along the lines of
  the method in Chapter 12 of Jennison and Turnbull (2000). Ivanova,
  Qaqish and Schell (2005) have an illustrative paper.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Jennison C and Turnbull BW. (2000).  Group Sequential Methods with
  Applications to Clinical Trials.  <em>Chapman and Hall/CRC</em></p>
<p>Ivanova A, Qaqish BF and Schell MJ. (2005). Continuous Toxicity
  Monitoring in Phase II Trials in Oncology. <em>Biometrics</em> 61, 540-545.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="fu">toxbdry</span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.35</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">60</span>,<span class="fl">75</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Toxicity boundary based on repeated significance testing </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Boundary shape parameter delta = 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  * Stop if the number of toxicities exceeds (i.e. &gt;) the boundary *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Low boundary:   7/20   12/40   17/60   20/75   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  High boundary:   7/20   12/40   17/60   21/75   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Operating Characteristics: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ptox pcross.lo pstop.lo ess.lo pcross.hi pstop.hi ess.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.20     0.101    0.079   72.0     0.088    0.079   72.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.23     0.247    0.188   68.1     0.214    0.188   68.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.26     0.456    0.354   62.1     0.406    0.354   62.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.29     0.672    0.548   54.7     0.619    0.548   54.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.32     0.838    0.727   47.0     0.797    0.727   47.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.35     0.935    0.859   39.9     0.911    0.859   39.9</span>
<span class="r-in"><span>  <span class="fu">toxbdry</span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">60</span>,<span class="fl">75</span><span class="op">)</span>, cP0<span class="op">=</span><span class="fl">0.15</span>, cP1<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Max sample size 75 may be small for the specified stopping probabilities</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Toxicity boundary based on repeated significance testing </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Boundary shape parameter delta = 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  * Stop if the number of toxicities exceeds (i.e. &gt;) the boundary *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Low boundary:   6/20   12/40   16/60   20/75   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  High boundary:   7/20   12/40   16/60   20/75   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Operating Characteristics: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ptox pcross.lo pstop.lo ess.lo pcross.hi pstop.hi ess.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.20     0.152    0.140   69.1     0.117    0.103   71.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.22     0.253    0.229   65.7     0.213    0.186   69.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.24     0.381    0.342   61.4     0.341    0.297   65.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.26     0.522    0.469   56.5     0.487    0.427   61.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.28     0.659    0.598   51.2     0.632    0.562   56.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.30     0.777    0.715   45.9     0.758    0.688   51.0</span>
<span class="r-in"><span>  <span class="co"># continuous monitoring</span></span></span>
<span class="r-in"><span>  <span class="fu">toxbdry</span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Toxicity boundary based on repeated significance testing </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Boundary shape parameter delta = 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  * Stop if the number of toxicities exceeds (i.e. &gt;) the boundary *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Low boundary:   1/3   2/8   3/13   4/20   5/26   6/30   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  High boundary:   1/3   2/8   3/13   4/19   5/26   6/30   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Operating Characteristics: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ptox pcross.lo pstop.lo ess.lo pcross.hi pstop.hi ess.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.10     0.100    0.099   28.1     0.097    0.096   28.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.14     0.250    0.245   25.7     0.245    0.239   25.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.18     0.448    0.437   22.4     0.441    0.430   22.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.22     0.644    0.631   18.8     0.638    0.624   19.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.26     0.799    0.786   15.5     0.795    0.781   15.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.30     0.901    0.891   12.6     0.898    0.888   12.7</span>
<span class="r-in"><span>  <span class="co"># prioritize cP1 error threshold</span></span></span>
<span class="r-in"><span>  <span class="fu">toxbdry</span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">25</span>, priority<span class="op">=</span><span class="st">"alt"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Max sample size 25 may be small for the specified stopping probabilities</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Toxicity boundary based on repeated significance testing </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Boundary shape parameter delta = 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  * Stop if the number of toxicities exceeds (i.e. &gt;) the boundary *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ******************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Low boundary:   1/4   2/10   3/16   4/23   5/25   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  High boundary:   1/4   2/10   3/16   4/22   5/25   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Operating Characteristics: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ptox pcross.lo pstop.lo ess.lo pcross.hi pstop.hi ess.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.10     0.146    0.145   22.8     0.140    0.139   22.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.14     0.312    0.310   20.5     0.300    0.296   20.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.18     0.504    0.499   17.8     0.488    0.480   17.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.22     0.679    0.673   15.0     0.663    0.652   15.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.26     0.813    0.807   12.5     0.800    0.790   12.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.30     0.902    0.897   10.3     0.893    0.885   10.3</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Venkatraman E. Seshan, Karissa Whiting.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

