<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates the probability of selecting the treatment with the higher
  response rate under the pick the winner rule."><title>Probability of selection under pick the winner rule — pselect • clinfun</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Atkinson_Hyperlegible-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Probability of selection under pick the winner rule — pselect"><meta property="og:description" content="Calculates the probability of selecting the treatment with the higher
  response rate under the pick the winner rule."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">clinfun</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.1.9102</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/clinical-trial-functions.html">Functions For Clinical Trial Design</a>
    <a class="dropdown-item" href="../articles/compare-trial-functions.html">compare-trial-functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Probability of selection under pick the winner rule</h1>
      
      <div class="d-none name"><code>pselect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the probability of selecting the treatment with the higher
  response rate under the pick the winner rule.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pselect</span><span class="op">(</span><span class="va">n</span>, <span class="va">p</span>, min.diff<span class="op">=</span><span class="cn">NULL</span>, min.resp<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n</dt>
<dd><p>sample size for each treatment arm.  This is either a single
    integer or a vector of two integers for the special case of
    comparing two treatments with unequal sample sizes</p></dd>
  
  <dt>p</dt>
<dd><p>vector of response rates for the treatments.</p></dd>

  <dt>min.diff</dt>
<dd><p>this is the number of responses or the rate by which
    the best treatment should be superior to the others to be chosen.
    This must be a positive integer or a rate between 0 and 1.  If
    missing it defaults to 1 for the equal sample size case but quits
    with a warning for the unequal sample size case.</p></dd>

  <dt>min.resp</dt>
<dd><p>the minimum number of responses in each treatment arm
    for it to be considered further. If missing defaults to 0.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>the function returns a list with:</p>
<dl><dt>prob.none.worthy</dt>
<dd><p>is the probability that no treatment has the
    minimum number of responses specified in min.resp. this element is
    present only if min.resp is greater than 0 for at least one arm.</p></dd>

  <dt>prob.inconclusive</dt>
<dd><p>this is the probability that the best treatment
    has the requisite min.resp responses but exceeds the second best by
    less than min.diff responses (rate) provided the second best also
    has at least min.resp responses.</p></dd>

  <dt>prob.selection</dt>
<dd><p>this is a matrix which for each treatment gives
    the response probability and the probability of selecting it
    i.e. the number of responses in the chosen arm is at least min.resp
    and either none of the remaining arms exceed the min.resp threshold
    or the chosen (best) arm is better than the second best by at least
    min.diff responses (rate).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Simon R, Wittes RE, Ellenberg SS. (1985). Randomized phase II clinical
  trials. <em>Cancer Treat Rep</em> 69, 1375-1381.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co"># selection when no diffrence i.e. type I error</span></span></span>
<span class="r-in"><span>  <span class="fu">pselect</span><span class="op">(</span><span class="fl">18</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.inconclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2236879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sample.size resp.rate prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 1          18       0.2      0.2587707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 2          18       0.2      0.2587707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 3          18       0.2      0.2587707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>  <span class="co"># selection probability</span></span></span>
<span class="r-in"><span>  <span class="fu">pselect</span><span class="op">(</span><span class="fl">18</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.inconclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.09676346</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sample.size resp.rate prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 1          18       0.2     0.05136236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 2          18       0.2     0.05136236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 3          18       0.4     0.80051182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>  <span class="fu">pselect</span><span class="op">(</span><span class="fl">26</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span><span class="op">)</span>, min.diff<span class="op">=</span><span class="fl">2</span>, min.resp<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.none.worthy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.961946e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.inconclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1706533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sample.size resp.rate prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 1          26       0.2     0.01536975</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 2          26       0.2     0.01536975</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 3          26       0.4     0.79860522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>  <span class="co"># unequal sample size case</span></span></span>
<span class="r-in"><span>  <span class="fu">pselect</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">54</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.65</span><span class="op">)</span>, min.diff<span class="op">=</span><span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.inconclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1405518</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sample.size resp.rate prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 1          27      0.50     0.04570331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 2          54      0.65     0.81374489</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>  <span class="co"># unequal sample size case</span></span></span>
<span class="r-in"><span>  <span class="fu">pselect</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">54</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.65</span><span class="op">)</span>, min.diff<span class="op">=</span><span class="fl">0.05</span>, min.resp<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,<span class="fl">27</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.none.worthy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.00405262</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.inconclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1340373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sample.size resp.rate prob.selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 1          27      0.50     0.04625472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt 2          54      0.65     0.81565539</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Venkatraman E. Seshan, Karissa Whiting.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

